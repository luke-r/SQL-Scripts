Template for dynamic pivot table

Description: This is a code template for a sql query which produces a pivot table of data queried, with parameters contained within local variables. The advantage to this format is that it requires very little modification to pivot a desired dataset. However, due to the nature of dynamic sql (I recommend reading http://www.sommarskog.se/dynamic_sql.html before using this or any other dynamic sql query), this code should not be used in any setting except a secure developer environment. Use at own risk.
